"use strict";var BASE_URL="http://api.giphy.com/v1/gifs",API_KEY="otQg2F3wXu9yyf6xNfnLaLBElBh0tmNr",RETURN_QUANTITY="8",offset=0,search="cat";document.addEventListener("DOMContentLoaded",function(t){getRandomInfo().then(function(t){createGrid(t)})});var form=document.querySelector(".js-form"),refresh=document.querySelector(".js-update"),input=form.querySelector(".js-input"),list=document.querySelector(".js-list");function handleStepOffset(){offset+=8,getUrlInfo(search).then(function(t){createGrid(t)})}function handleFormSubmit(t){t.preventDefault(),null!==input.value&&(offset=0,search=input.value,getUrlInfo(input.value).then(function(t){createGrid(t)}))}function getUrlInfo(t){return fetch("".concat(BASE_URL,"/search?q=").concat(t,"&api_key=").concat(API_KEY,"&limit=").concat(RETURN_QUANTITY,"&offset=").concat(offset)).then(function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))}).catch(function(t){console.log("ERROR: ",t)})}function getRandomInfo(){return fetch("".concat(BASE_URL,"/search?q='cat'&api_key=").concat(API_KEY,"&limit=").concat(RETURN_QUANTITY)).then(function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))}).catch(function(t){console.log("ERROR: ",t)})}function createGrid(t){var e=t.data,n=void 0===e?[]:e,r=document.querySelector(".js-list"),o=document.querySelector("#template-card").innerHTML.trim(),c=Handlebars.compile(o),i=n.reduce(function(t,e){return t+c(e)},"");r.innerHTML=i}form.addEventListener("submit",handleFormSubmit),refresh.addEventListener("click",handleStepOffset),list.addEventListener("click",function(t){var e=t.target;e.classList.contains("js-info")&&e.parentNode.querySelector(".overlay").classList.toggle("active")});